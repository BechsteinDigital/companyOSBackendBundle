/*! For license information please see 901.app.js.LICENSE.txt */
"use strict";(self.webpackChunkcompanyos_backend=self.webpackChunkcompanyos_backend||[]).push([[901],{9901:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var r=t(1425),u=t(2387);function a(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",u=t.toStringTag||"@@toStringTag";function l(t,r,u,a){var l=r&&r.prototype instanceof c?r:c,f=Object.create(l.prototype);return o(f,"_invoke",function(t,r,u){var a,o,l,c=0,f=u||[],s=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(n,t){return a=n,o=0,l=e,d.n=t,i}};function m(t,r){for(o=t,l=r,n=0;!s&&c&&!u&&n<f.length;n++){var u,a=f[n],m=d.p,v=a[2];t>3?(u=v===r)&&(l=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=e):a[0]<=m&&((u=t<2&&m<a[1])?(o=0,d.v=r,d.n=a[1]):m<v&&(u=t<3||a[0]>r||r>v)&&(a[4]=t,a[5]=r,d.n=v,o=0))}if(u||t>1)return i;throw s=!0,r}return function(u,f,v){if(c>1)throw TypeError("Generator is already running");for(s&&1===f&&m(f,v),o=f,l=v;(n=o<2?e:l)||!s;){a||(o?o<3?(o>1&&(d.n=-1),m(o,l)):d.n=l:d.v=l);try{if(c=2,a){if(o||(u="next"),n=a[u]){if(!(n=n.call(a,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,o<2&&(o=0)}else 1===o&&(n=a.return)&&n.call(a),o<2&&(l=TypeError("The iterator does not provide a '"+u+"' method"),o=1);a=e}else if((n=(s=d.n<0)?l:t.call(r,d))!==i)break}catch(n){a=e,o=1,l=n}finally{c=1}}return{value:n,done:s}}}(t,u,a),!0),f}var i={};function c(){}function f(){}function s(){}n=Object.getPrototypeOf;var d=[][r]?n(n([][r]())):(o(n={},r,function(){return this}),n),m=s.prototype=c.prototype=Object.create(d);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,o(e,u,"GeneratorFunction")),e.prototype=Object.create(m),e}return f.prototype=s,o(m,"constructor",s),o(s,"constructor",f),f.displayName="GeneratorFunction",o(s,u,"GeneratorFunction"),o(m),o(m,u,"Generator"),o(m,r,function(){return this}),o(m,"toString",function(){return"[object Generator]"}),(a=function(){return{w:l,m:v}})()}function o(e,n,t,r){var u=Object.defineProperty;try{u({},"",{})}catch(e){u=0}o=function(e,n,t,r){if(n)u?u(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t;else{var a=function(n,t){o(e,n,function(e){return this._invoke(n,t,e)})};a("next",0),a("throw",1),a("return",2)}},o(e,n,t,r)}function l(e,n,t,r,u,a,o){try{var l=e[a](o),i=l.value}catch(e){return void t(e)}l.done?n(i):Promise.resolve(i).then(r,u)}var i={class:"mb-3"},c={class:"mt-1"},f={class:"mb-3"},s={class:"mt-1"},d={class:"mb-3"},m={class:"mt-1"},v={class:"mb-3"},b={class:"mt-1"};const k={__name:"Profile",setup:function(e){var n=(0,u.n)(),t=(0,r.KR)(!1),o=(0,r.KR)({firstName:"",lastName:"",email:""});(0,r.sV)(function(){n.user&&(o.value={firstName:n.user.firstName||"",lastName:n.user.lastName||"",email:n.user.email||""})});var k=function(){var e,r=(e=a().m(function e(){var r;return a().w(function(e){for(;;)switch(e.n){case 0:return t.value=!0,e.p=1,e.n=2,new Promise(function(e){return setTimeout(e,1e3)});case 2:n.user&&(n.user.firstName=o.value.firstName,n.user.lastName=o.value.lastName),alert("Profil erfolgreich aktualisiert!"),e.n=4;break;case 3:e.p=3,r=e.v,alert("Fehler beim Aktualisieren des Profils: "+r.message);case 4:return e.p=4,t.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}),function(){var n=this,t=arguments;return new Promise(function(r,u){var a=e.apply(n,t);function o(e){l(a,r,u,o,i,"next",e)}function i(e){l(a,r,u,o,i,"throw",e)}o(void 0)})});return function(){return r.apply(this,arguments)}}(),_=function(e){return e?new Date(e).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unbekannt"};return function(e,u){var a=(0,r.g2)("CBreadcrumbItem"),l=(0,r.g2)("CBreadcrumb"),p=(0,r.g2)("CCardHeader"),y=(0,r.g2)("CFormInput"),g=(0,r.g2)("CCol"),h=(0,r.g2)("CRow"),F=(0,r.g2)("CSpinner"),L=(0,r.g2)("CButton"),C=(0,r.g2)("CForm"),N=(0,r.g2)("CCardBody"),R=(0,r.g2)("CCard"),w=(0,r.g2)("CBadge");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(l,{class:"my-3"},{default:(0,r.k6)(function(){return[(0,r.bF)(a,{href:"/dashboard"},{default:(0,r.k6)(function(){return u[3]||(u[3]=[(0,r.eW)("Dashboard")])}),_:1,__:[3]}),(0,r.bF)(a,{active:""},{default:(0,r.k6)(function(){return u[4]||(u[4]=[(0,r.eW)("Profil")])}),_:1,__:[4]})]}),_:1}),(0,r.bF)(h,null,{default:(0,r.k6)(function(){return[(0,r.bF)(g,{md:"8"},{default:(0,r.k6)(function(){return[(0,r.bF)(R,null,{default:(0,r.k6)(function(){return[(0,r.bF)(p,null,{default:(0,r.k6)(function(){return u[5]||(u[5]=[(0,r.Lk)("h4",{class:"card-title mb-0"},"Profil bearbeiten",-1)])}),_:1,__:[5]}),(0,r.bF)(N,null,{default:(0,r.k6)(function(){return[(0,r.bF)(C,{onSubmit:(0,r.D$)(k,["prevent"])},{default:(0,r.k6)(function(){return[(0,r.bF)(h,null,{default:(0,r.k6)(function(){return[(0,r.bF)(g,{md:"6"},{default:(0,r.k6)(function(){return[(0,r.bF)(y,{modelValue:o.value.firstName,"onUpdate:modelValue":u[0]||(u[0]=function(e){return o.value.firstName=e}),label:"Vorname",placeholder:"Vorname eingeben",required:""},null,8,["modelValue"])]}),_:1}),(0,r.bF)(g,{md:"6"},{default:(0,r.k6)(function(){return[(0,r.bF)(y,{modelValue:o.value.lastName,"onUpdate:modelValue":u[1]||(u[1]=function(e){return o.value.lastName=e}),label:"Nachname",placeholder:"Nachname eingeben",required:""},null,8,["modelValue"])]}),_:1})]}),_:1}),(0,r.bF)(y,{modelValue:o.value.email,"onUpdate:modelValue":u[2]||(u[2]=function(e){return o.value.email=e}),label:"E-Mail",type:"email",placeholder:"E-Mail eingeben",required:"",readonly:""},null,8,["modelValue"]),(0,r.bF)(L,{type:"submit",color:"primary",disabled:t.value},{default:(0,r.k6)(function(){return[t.value?((0,r.uX)(),(0,r.Wv)(F,{key:0,size:"sm",class:"me-2"})):(0,r.Q3)("v-if",!0),(0,r.eW)(" "+(0,r.v_)(t.value?"Speichern...":"Profil speichern"),1)]}),_:1},8,["disabled"])]}),_:1})]}),_:1})]}),_:1})]}),_:1}),(0,r.bF)(g,{md:"4"},{default:(0,r.k6)(function(){return[(0,r.bF)(R,null,{default:(0,r.k6)(function(){return[(0,r.bF)(p,null,{default:(0,r.k6)(function(){return u[6]||(u[6]=[(0,r.Lk)("h5",{class:"card-title mb-0"},"Account-Informationen",-1)])}),_:1,__:[6]}),(0,r.bF)(N,null,{default:(0,r.k6)(function(){var e,t,a;return[(0,r.Lk)("div",i,[u[11]||(u[11]=(0,r.Lk)("strong",null,"Rolle:",-1)),(0,r.Lk)("div",c,[(0,r.R1)(n).hasRole("ROLE_ADMIN")?((0,r.uX)(),(0,r.Wv)(w,{key:0,color:"danger"},{default:(0,r.k6)(function(){return u[7]||(u[7]=[(0,r.eW)("Administrator")])}),_:1,__:[7]})):(0,r.R1)(n).hasRole("ROLE_EMPLOYEE")?((0,r.uX)(),(0,r.Wv)(w,{key:1,color:"warning"},{default:(0,r.k6)(function(){return u[8]||(u[8]=[(0,r.eW)("Mitarbeiter")])}),_:1,__:[8]})):(0,r.R1)(n).hasRole("ROLE_CUSTOMER")?((0,r.uX)(),(0,r.Wv)(w,{key:2,color:"info"},{default:(0,r.k6)(function(){return u[9]||(u[9]=[(0,r.eW)("Kunde")])}),_:1,__:[9]})):((0,r.uX)(),(0,r.Wv)(w,{key:3,color:"secondary"},{default:(0,r.k6)(function(){return u[10]||(u[10]=[(0,r.eW)("Unbekannt")])}),_:1,__:[10]}))])]),(0,r.Lk)("div",f,[u[14]||(u[14]=(0,r.Lk)("strong",null,"Status:",-1)),(0,r.Lk)("div",s,[null!==(e=(0,r.R1)(n).user)&&void 0!==e&&e.isActive?((0,r.uX)(),(0,r.Wv)(w,{key:0,color:"success"},{default:(0,r.k6)(function(){return u[12]||(u[12]=[(0,r.eW)("Aktiv")])}),_:1,__:[12]})):((0,r.uX)(),(0,r.Wv)(w,{key:1,color:"danger"},{default:(0,r.k6)(function(){return u[13]||(u[13]=[(0,r.eW)("Inaktiv")])}),_:1,__:[13]}))])]),(0,r.Lk)("div",d,[u[15]||(u[15]=(0,r.Lk)("strong",null,"Registriert seit:",-1)),(0,r.Lk)("div",m,(0,r.v_)(_(null===(t=(0,r.R1)(n).user)||void 0===t?void 0:t.createdAt)),1)]),(0,r.Lk)("div",v,[u[16]||(u[16]=(0,r.Lk)("strong",null,"Letzte Anmeldung:",-1)),(0,r.Lk)("div",b,(0,r.v_)(_(null===(a=(0,r.R1)(n).user)||void 0===a?void 0:a.lastLoginAt)||"Noch nie"),1)])]}),_:1})]}),_:1})]}),_:1})]}),_:1})])}}}}}]);