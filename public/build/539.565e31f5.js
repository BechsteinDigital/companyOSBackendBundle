"use strict";(self.webpackChunkcompanyos_backend=self.webpackChunkcompanyos_backend||[]).push([[539],{1539:(e,n,t)=>{t.r(n),t.d(n,{default:()=>C});var l=t(5458),a=t(4980),o=(t(2675),t(9463),t(2008),t(8980),t(1629),t(7945),t(4185),t(3851),t(1278),t(9432),t(3949),t(3500),t(2062),t(4114),t(2010),t(6099),t(8992),t(4520),t(1454),t(1425));function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,l)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach(function(n){(0,a.A)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var s={class:"roles-page"},u={class:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},c={class:"btn-toolbar mb-2 mb-md-0"},d={class:"table-responsive"},b={class:"table table-striped table-sm"},p=["onClick"],k=["onClick"],m={class:"modal-dialog"},v={class:"modal-content"},f={class:"modal-header"},L={class:"modal-title"},h={class:"modal-body"},y={class:"mb-3"},g={class:"mb-3"},O={key:0,class:"modal-backdrop fade show"};const w={__name:"Roles",setup:function(e){var n=(0,o.KR)([{id:1,name:"Administrator",description:"Vollzugriff auf alle Funktionen",permissions:["all"]},{id:2,name:"Manager",description:"Verwaltung von Benutzern und Inhalten",permissions:["users","content"]},{id:3,name:"Editor",description:"Bearbeitung von Inhalten",permissions:["content"]}]),t=(0,o.KR)(!1),a=(0,o.KR)(null),r=(0,o.Kh)({name:"",description:""}),w=function(){t.value=!1,a.value=null,r.name="",r.description=""},C=function(){if(a.value){var e=n.value.findIndex(function(e){return e.id===a.value.id});n.value[e]=i(i({},a.value),r)}else{var t=i(i({id:Math.max.apply(Math,(0,l.A)(n.value.map(function(e){return e.id})))+1},r),{},{permissions:[]});n.value.push(t)}w()};return function(e,l){return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",u,[l[4]||(l[4]=(0,o.Lk)("h1",{class:"h2"},"Rollenverwaltung",-1)),(0,o.Lk)("div",c,[(0,o.Lk)("button",{type:"button",class:"btn btn-sm btn-outline-primary",onClick:l[0]||(l[0]=function(e){return t.value=!0})},l[3]||(l[3]=[(0,o.Lk)("i",{class:"cil-plus"},null,-1),(0,o.eW)(" Neue Rolle ")]))])]),(0,o.Lk)("div",d,[(0,o.Lk)("table",b,[l[7]||(l[7]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"ID"),(0,o.Lk)("th",null,"Name"),(0,o.Lk)("th",null,"Beschreibung"),(0,o.Lk)("th",null,"Berechtigungen"),(0,o.Lk)("th",null,"Aktionen")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,function(e){return(0,o.uX)(),(0,o.CE)("tr",{key:e.id},[(0,o.Lk)("td",null,(0,o.v_)(e.id),1),(0,o.Lk)("td",null,(0,o.v_)(e.name),1),(0,o.Lk)("td",null,(0,o.v_)(e.description),1),(0,o.Lk)("td",null,(0,o.v_)(e.permissions.length)+" Berechtigungen",1),(0,o.Lk)("td",null,[(0,o.Lk)("button",{class:"btn btn-sm btn-outline-primary me-1",onClick:function(n){return function(e){a.value=e,r.name=e.name,r.description=e.description,t.value=!0}(e)}},l[5]||(l[5]=[(0,o.Lk)("i",{class:"cil-pencil"},null,-1)]),8,p),(0,o.Lk)("button",{class:"btn btn-sm btn-outline-danger",onClick:function(t){return l=e.id,void(confirm("Sind Sie sicher, dass Sie diese Rolle löschen möchten?")&&(n.value=n.value.filter(function(e){return e.id!==l})));var l}},l[6]||(l[6]=[(0,o.Lk)("i",{class:"cil-trash"},null,-1)]),8,k)])])}),128))])])]),(0,o.Q3)(" Create/Edit Modal "),(0,o.Lk)("div",{class:(0,o.C4)(["modal fade",{show:t.value}]),style:(0,o.Tr)({display:t.value?"block":"none"}),tabindex:"-1"},[(0,o.Lk)("div",m,[(0,o.Lk)("div",v,[(0,o.Lk)("div",f,[(0,o.Lk)("h5",L,(0,o.v_)(a.value?"Rolle bearbeiten":"Neue Rolle erstellen"),1),(0,o.Lk)("button",{type:"button",class:"btn-close",onClick:w})]),(0,o.Lk)("div",h,[(0,o.Lk)("form",{onSubmit:(0,o.D$)(C,["prevent"])},[(0,o.Lk)("div",y,[l[8]||(l[8]=(0,o.Lk)("label",{class:"form-label"},"Name",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":l[1]||(l[1]=function(e){return r.name=e}),required:""},null,512),[[o.Jo,r.name]])]),(0,o.Lk)("div",g,[l[9]||(l[9]=(0,o.Lk)("label",{class:"form-label"},"Beschreibung",-1)),(0,o.bo)((0,o.Lk)("textarea",{class:"form-control","onUpdate:modelValue":l[2]||(l[2]=function(e){return r.description=e}),rows:"3"},null,512),[[o.Jo,r.description]])])],32)]),(0,o.Lk)("div",{class:"modal-footer"},[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:w},"Abbrechen"),(0,o.Lk)("button",{type:"button",class:"btn btn-primary",onClick:C},"Speichern")])])])],6),t.value?((0,o.uX)(),(0,o.CE)("div",O)):(0,o.Q3)("v-if",!0)])}}};const C=(0,t(6262).A)(w,[["__scopeId","data-v-1358410e"]])}}]);